# autoload -Uz +X compinit
# functions[compinit]=$'print -u2 \'compinit being called at \'${funcfiletrace[1]}
# '${functions[compinit]}

# XDG base directory
# see XDG Base Directory in: "https://wiki.archlinux.org/title/XDG_Base_Directory"
# >> user directory
export XDG_CONFIG_HOME=$HOME/.config
export XDG_CACHE_HOME=$HOME/.cache
export XDG_DATA_HOME=$HOME/.local/share
export XDG_STATE_HOME=$HOME/.local/state
export XDG_RUNTIME_DIR=/run/user/$UID
# >> system directory
export XDG_DATA_DIR=/usr/local/share:/usr/share
export XDG_CONFIG_DIRS=/etc/xdg

# vim
export GVIMINIT='let $MYGVIMRC="$XDG_CONFIG_HOME/vim/gvimrc" | source $MYGVIMRC'
export VIMINIT='let $MYVIMRC="$XDG_CONFIG_HOME/vim/vimrc" | source $MYVIMRC'

# fcitx5
# export INPUT_METHOD=fcitx5
# export GTK_IM_MODULE=fcitx5
# export QT_IM_MODULE=fcitx5
# export SDL_IM_MODULE=fcitx5
export XMODIFIERS=@im=fcitx5

# zsh
export ZDOTDIR="$XDG_CONFIG_HOME"/zsh
export HISTFILE="$XDG_DATA_HOME"/zsh/history
export ZIM_HOME="$XDG_CONFIG_HOME"/zim
export ZIM_CONFIG_FILE=$XDG_CONFIG_HOME/zsh/.zimrc
export ZSH_COMPDUMP=$XDG_CACHE_HOME/zsh/zcompdump-$ZSH_VERSION # Save the location of the current completion dump file. https://www.reddit.com/r/zsh/comments/fqpidr/removing_zcompdump_file_creation/

# tmux
export TMUX_CONF=$XDG_CONFIG_HOME/tmux/tmux.conf

#: AMD Vulkan, https://wiki.archlinux.org/title/Vulkan#Selecting_via_environment_variable
export AMD_VULKAN_ICD=RADV


# rust
export CARGO_HOME="$XDG_DATA_HOME"/cargo
export RUSTUP_HOME="$XDG_DATA_HOME"/rustup

# z
export _Z_DATA="$XDG_DATA_HOME"/z

# GTK 2.0
# export GTK2_RC_FILES="$XDG_CONFIG_HOME/gtk-2.0/gtkrc":"$XDG_CONFIG_HOME/gtk-2.0/gtkrc.mine"
export GTK2_RC_FILES=$XDG_CONFIG_HOME/gtk-2.0/gtkrc
# gsettings set org.gnome.desktop.interface gtk-theme "GNOME-4X"

# xinit
export XINITRC="$XDG_CONFIG_HOME"/X11/xinitrc

# wine
export WINEPREFIX="$XDG_DATA_HOME"/wineprefixes/default

# less
export LESSKEY="$XDG_CONFIG_HOME"/less/lesskey
export LESSHISTFILE="$XDG_DATA_HOME"/less/history

# golang
export GO111MODULE=on
export GOPROXY=https://goproxy.cn,direct
export GOCACHE="$XDG_CACHE_HOME"/go
export GOMODCACHE="$XDG_DATA_HOME"/go
export GOPATH="$XDG_DATA_HOME"/go
export GOBIN="$GOPATH"/bin
#export PATH=$PATH:$GOBIN

# python
export PYTHON_HISTORY=$XDG_STATE_HOME/python/history
export PYTHONSTARTUP="$XDG_CONFIG_HOME"/python/repl_startup.py
export PYTHONPYCACHEPREFIX="$XDG_CACHE_HOME"/python
export PYTHONUSERBASE="$XDG_DATA_HOME"/python
export IPYTHONDIR="$XDG_DATA_HOME"/ipython
export JUPYTER_CONFIG_DIR="$XDG_CONFIG_HOME"/jupyter

#: Java
export _JAVA_OPTIONS=-Djava.util.prefs.userRoot="$XDG_CONFIG_HOME"/java
export JAVA_HOME=/usr/lib/jvm/java-21-openjdk
# export JRE_HOME=$JAVA_HOME/jre # only for JDK 8
#export PATH=$PATH:$JAVA_HOME/bin
#: Tomcat
export CATALINA_HOME=/usr/share/tomcat10
export CLASSPATH=.:$JAVA_HOME/lib:$CATALINA_HOME/lib
#export PATH=$PATH:$CATALINA_HOME/bin

#: npm
export NPM_CONFIG_USERCONFIG="$XDG_CONFIG_HOME"/npm/npmrc

# carg:$GOBINo
# . "$XDG_DATA_HOME/cargo/.cargo/env"

#: wakatime
export WAKATIME_HOME="$XDG_CONFIG_HOME/wakatime"

#: xorg-xauth(Xauthority)
# export XAUTHORITY="$XDG_RUNTIME_DIR"/Xauthority

alias yarn='yarn --use-yarnrc "$XDG_CONFIG_HOME/yarn/config"'

#: OpenSSL rnd
export RANDFILE=$XDG_CONFIG_HOME/rnd/.rnd

#: CUDA
export CUDA_CACHE_PATH="$XDG_CACHE_HOME"/nv

#: bash
mkdir -p "$XDG_STATE_HOME"/bash
export HISTFILE="$XDG_STATE_HOME"/bash/history

#: wget
export WGETRC="$XDG_CONFIG_HOME/wgetrc"
alias wget='wget --hsts-file="$XDG_CACHE_HOME/wget-hsts"'

#: npm
export NPM_CONFIG_USERCONFIG=$XDG_CONFIG_HOME/npm/npmrc

#: GnuPG
export GNUPGHOME="$XDG_DATA_HOME"/gnupg
# gpg2 --homedir "$XDG_DATA_HOME"/gnupg

#: application
export terminal="konsole"
export fileManager="dolphin"
export menu="rofi"

#: Editor
export EDITOR=nvim

#: locale
export LANG=en_US.UTF-8

#: xwayland/XWayland
export ELECTRON_OZONE_PLATFORM_HINT=auto
export XCURSOR_PATH=$XDG_DATA_HOME/icons

#: JetBrains
#export PATH="$PATH:/home/tosakrin/.local/share/JetBrains/Toolbox/scripts"

# Accessibility
export NO_AT_BRIDGE=1


append_path () {
    case ":$PATH:" in
        *:"$1":*)
            ;;
        *)
            PATH="${PATH:+$PATH:}$1"
    esac
}

append_path '~/.local/bin'
#: Go
append_path $GOBIN
#: Java
append_path "$JAVA_HOME/bin"
#: Tomcat
append_path "$CATALINA_HOME/bin"
#: JetBrains
append_path "/home/tosakrin/.local/share/JetBrains/Toolbox/scripts"
